---
import { getEntry } from 'astro:content';
import Icon from 'astro-icon';

interface Props {
  slug: string;
}

const { slug } = Astro.props;

const work = await getEntry('works', slug);
---

<article class="aspect-square bg-white group overflow-hidden">
  <a href={'/works/' + work?.slug} title={`Open project ${work?.data.title}`} class="relative">
    <img src={work?.data.img_preview.src} class="scale-100 group-hover:scale-110 transition-transform duration-1000" />
    <div class="absolute inset-0 grid place-items-center bg-black bg-opacity-0 group-hover:bg-opacity-80 duration-500 transition-all">
      <div
        class="flex-col gap-6 flex opacity-0 group-hover:opacity-100 duration-500 "
      >
        <Icon
          name="icon_big_arrow_cross"
          class="h-24 sm:h-20 lg:h-32 rotate-45 group-hover:rotate-0 transition-all delay-100 duration-500"
        />
        <p class="text-white text-4xl lg:text-6xl font-title">{work?.data.title}</p>
      </div>
    </div>
  </a>
</article>
