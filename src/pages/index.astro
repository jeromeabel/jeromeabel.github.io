---
import { getCollection } from 'astro:content';

import BaseLayout from "../layouts/BaseLayout.astro";
import Hero from "../components/Hero.astro";
import ProjectCard from '../components/ProjectCard.astro';

// const projects = (await getCollection('projects'))
// 	.sort((a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf())
// 	.slice(0, 4);

const projects = await getCollection('projects', ({ data }) => {
  return data.home === true;
});
---

<BaseLayout>
	<Hero 
		title="Hi, I'm JÃ©rÃ´me Abel"
		tagline="A Front-end developer with a +10 years backgound in interactive and electronic arts."
	/>
	<main>
		<ul>
			{ projects.map( project => (
				<li><ProjectCard project={project} /></li>
				)
			)}
		</ul>
	</main>
	<!-- Projects Grid -->
</BaseLayout>
